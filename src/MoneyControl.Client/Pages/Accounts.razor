@inject HttpClient Http
@page "/Accounts"
@using MoneyControl.Shared.Models
<h3>Accounts</h3>

<table class="table table-striped table-hover table-bordered">
    <thead>
    <tr>
        <th scope="col">Id</th>
        <th scope="col">Name</th>
        <th scope="col">Balance</th>
        <th scope="col">Currency</th>
    </tr>
    </thead>
    <tbody class="table-group-divider">
    @foreach (var item in _accounts)
    {
        <tr scope="row">
            <th>@item.Id</th>
            <td>@item.Name</td>
            <td>@item.Balance</td>
            <td>@item.Currency</td>
        </tr>
    }
    </tbody>
</table>

@code {
    private List<AccountModel>? _accounts = new();

    protected override async Task OnInitializedAsync()
    {
        _accounts = await Http.GetFromJsonAsync<List<AccountModel>>("account");
    }
}